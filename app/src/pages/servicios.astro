---
// pages/servicios.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import ServicesGrid from '../components/ServicesGrid.astro';
import BottomNav from '../components/BottomNav.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
import Footer from '../components/Footer.astro';
import FAQ from '../components/Faq.astro';
import ZonasTrabajo from '../components/ZonasTrabajo.astro';
import WhatIDontDo from '../components/WhatIDontDo.astro';
import '../styles/global.css';

// helper simple para delays (usa tus clases delay-100..delay-500)
const delayClass = (i: number) => {
  const delays = ['delay-100', 'delay-200', 'delay-300', 'delay-400', 'delay-500'];
  return delays[i % delays.length];
};
---

<Layout 
  title="Servicios - Estepa Reformas"
  description="Descubre nuestros servicios de reformas: cocinas, baÃ±os, pintura y reformas integrales."
>
  <Header currentPath="/servicios" />
  
  <main class="min-h-screen pb-24">

    {/* HERO MEJORADO */}
    <section class="relative bg-[#1a2a3a] overflow-hidden">
      {/* Fondo sutil */}
      <div class="absolute inset-0">
        <div class="absolute inset-0 bg-gradient-to-br from-[#cd5a37]/25 via-[#1a2a3a]/85 to-[#1a2a3a]"></div>
        <img 
          src="https://images.unsplash.com/photo-1581858726788-75bc0f6a952d?w=1600" 
          alt=""
          class="w-full h-full object-cover opacity-35"
          loading="eager"
        />
      </div>

      <div class="relative z-10 max-w-7xl mx-auto px-6 py-20 lg:py-24">
        <div class="grid lg:grid-cols-12 gap-12 items-center">
          
          {/* IZQUIERDA */}
          <div class="lg:col-span-7 text-white animate-slide-left">
            <div class="inline-flex items-center gap-3 px-4 py-2 rounded-full bg-white/10 border border-white/15 backdrop-blur-md animate-fade-in delay-100">
              <span class="text-[10px] font-black tracking-[0.25em] uppercase">Servicios</span>
              <span class="w-1 h-1 rounded-full bg-white/40"></span>
              <span class="text-[12px] text-white/80 font-medium">
                Reformas â€¢ BaÃ±os â€¢ Cocinas â€¢ Pintura
              </span>
            </div>

            <h1 class="mt-6 text-4xl md:text-5xl lg:text-6xl font-black tracking-tighter leading-[0.95] animate-on-scroll delay-100">
              Reformas con acabado profesional,
              <span class="text-[#cd5a37]"> sin lÃ­os</span>.
            </h1>

            <p class="mt-5 text-base md:text-lg text-white/75 max-w-xl leading-relaxed animate-on-scroll delay-200">
              Trato directo conmigo desde el primer dÃ­a. Te digo lo que se puede hacer,
              cuÃ¡nto cuesta y en quÃ© plazo.
            </p>

            {/* Trust bullets */}
            <div class="mt-8 flex flex-wrap gap-3">
              {[
                "Presupuesto 24â€“48h",
                "Visita y mediciÃ³n",
                "Trabajo limpio",
                "Sin intermediarios"
              ].map((t, i) => (
                <span class={`px-4 py-2 rounded-full bg-white/10 border border-white/10 text-[12px] font-semibold text-white/85 animate-fade-in ${delayClass(i)}`}>
                  {t}
                </span>
              ))}
            </div>

            {/* CTAs */}
            <div class="mt-10 flex flex-col sm:flex-row gap-4 animate-on-scroll delay-300">
              <a 
                href="/contacto"
                class="bg-[#cd5a37] text-white font-black px-8 py-4 rounded-2xl hover:bg-[#b54f30] transition-all shadow-2xl shadow-orange-900/30"
              >
                Pedir presupuesto
              </a>

              <a 
                href="#servicios"
                class="bg-white/10 text-white font-bold px-8 py-4 rounded-2xl hover:bg-white/15 transition-all border border-white/15"
              >
                Ver servicios â†“
              </a>
            </div>
          </div>

          {/* DERECHA */}
          <div class="lg:col-span-5 animate-slide-right">
            <div class="relative">
              <div class="absolute -inset-4 rounded-[2.5rem] border border-white/10"></div>

              <div class="relative rounded-[2rem] overflow-hidden shadow-2xl aspect-[4/3] bg-black/20 animate-scale delay-100">
                <img 
                  src="https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=1000"
                  alt="Trabajo de reforma"
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </div>

              {/* Tarjeta flotante */}
              <div class="absolute -bottom-6 left-6 right-6 bg-white rounded-2xl p-5 shadow-xl animate-scale delay-300">
                <div class="flex items-start justify-between gap-4">
                  <div>
                    <p class="text-[#1a2a3a] font-black text-sm uppercase tracking-wide">
                      Respuesta rÃ¡pida
                    </p>
                    <p class="text-zinc-600 text-sm mt-1">
                      Dime quÃ© necesitas y te orientarÃ© con total claridad.
                    </p>
                  </div>

                  <a
                    href="https://wa.me/34600123456"
                    target="_blank"
                    class="flex-shrink-0 bg-[#25D366] text-white font-black px-4 py-3 rounded-xl hover:scale-[1.02] transition-all"
                  >
                    WhatsApp
                  </a>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>
    </section>

    {/* GRID SERVICIOS */}
    <section id="servicios" class="py-24 bg-[#f6f5f3]">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16 animate-on-scroll">
          <span class="text-[#cd5a37] font-bold tracking-widest text-xs uppercase">Especialidades</span>
          <h2 class="text-4xl lg:text-5xl font-black text-[#1a2a3a] mt-2 mb-6 tracking-tighter">
            Â¿QuÃ© necesitas reformar?
          </h2>
          <div class="w-20 h-1 bg-[#cd5a37] mx-auto mb-6"></div>
          <p class="text-lg text-zinc-600 max-w-2xl mx-auto mb-4 font-medium">
            Elige el servicio que necesitas y descubre cÃ³mo puedo transformar tu hogar.
          </p>
          <p class="text-[10px] text-[#cd5a37] font-black uppercase tracking-[0.2em] bg-white border border-zinc-200 inline-block px-4 py-2 rounded-full shadow-sm">
            ðŸ‘‡ Pincha en cualquier servicio para ver detalles
          </p>
        </div>
        
        {/* El componente ya viene con animate-on-scroll en cada card */}
        <ServicesGrid showTitle={false} linkToDetails={true} />
      </div>
    </section>

    {/* CÃ“MO TRABAJO */}
    <section class="py-24 bg-white relative">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-20 animate-on-scroll">
          <h2 class="text-4xl lg:text-5xl font-black text-[#1a2a3a] tracking-tighter mb-4">
            Â¿CÃ³mo Trabajo?
          </h2>
          <p class="text-xl text-zinc-500 font-light italic">
            Simple, transparente y sin sorpresas.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
          {[
            { n: "1", t: "Contacto", d: "Me cuentas tu proyecto por telÃ©fono, WhatsApp o formulario." },
            { n: "2", t: "Visita", d: "Visito tu hogar para tomar medidas y entender lo que necesitas." },
            { n: "3", t: "Presupuesto", d: "Recibes un presupuesto detallado sin compromiso en 24-48h." },
            { n: "4", t: "EjecuciÃ³n", d: "Realizo la reforma en los plazos acordados con calidad garantizada." }
          ].map((step, i) => (
            <div class={`group text-center animate-on-scroll ${delayClass(i)}`}>
              <div class="w-20 h-20 rounded-[2rem] bg-[#1a2a3a] text-white flex items-center justify-center text-3xl font-black mb-8 mx-auto group-hover:bg-[#cd5a37] group-hover:rotate-12 transition-all duration-500 shadow-xl">
                {step.n}
              </div>
              <h3 class="text-xl font-bold text-[#1a2a3a] mb-3 uppercase tracking-tight">{step.t}</h3>
              <p class="text-zinc-500 text-sm leading-relaxed px-4 font-medium">
                {step.d}
              </p>
            </div>
          ))}
        </div>
      </div>
    </section>

    {/* DIFERENCIA ESTEPA */}
    <section class="py-24 bg-[#f6f5f3] overflow-hidden">
      <div class="max-w-7xl mx-auto px-6">
        <div class="grid lg:grid-cols-2 gap-16 items-center">
          <div class="relative group animate-slide-left">
            <div class="absolute -inset-4 border-2 border-[#cd5a37]/20 rounded-[2.5rem] group-hover:scale-105 transition-transform duration-700"></div>
            <div class="relative rounded-[2rem] overflow-hidden shadow-2xl aspect-[4/3]">
              <img 
                src="https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800"
                alt="Estepa Reformas trabajando"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-[2s]"
                loading="lazy"
              />
            </div>
          </div>

          <div class="animate-on-scroll">
            <span class="inline-block px-4 py-1.5 mb-6 text-[10px] font-bold tracking-widest uppercase bg-[#cd5a37]/10 text-[#cd5a37] rounded-lg">
              La diferencia Estepa
            </span>
            <h2 class="text-4xl lg:text-6xl font-black text-[#1a2a3a] mb-10 tracking-tighter leading-none">
              Trabajo personal en<br/>
              <span class="text-[#cd5a37]">cada proyecto</span>
            </h2>
            
            <div class="grid gap-8">
              {[
                { 
                  t: "Trato Directo", 
                  d: "Hablas conmigo desde el primer dÃ­a. Sin intermediarios ni subcontratas.",
                  icon: "M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"
                },
                { 
                  t: "Calidad Profesional", 
                  d: "Cada trabajo hecho con mis propias manos. AtenciÃ³n al detalle en todo.",
                  icon: "M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                },
                { 
                  t: "Precio Justo", 
                  d: "Presupuestos transparentes sin sorpresas ni costes ocultos.",
                  icon: "M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"
                }
              ].map((item, i) => (
                <div class={`flex gap-6 group/item animate-on-scroll ${delayClass(i)}`}>
                  <div class="flex-shrink-0 w-14 h-14 rounded-2xl bg-white flex items-center justify-center shadow-sm group-hover/item:bg-[#cd5a37] transition-all duration-300">
                    <svg class="w-6 h-6 text-[#cd5a37] group-hover/item:text-white transition-colors" fill="currentColor" viewBox="0 0 24 24">
                      <path d={item.icon}/>
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-bold text-[#1a2a3a] mb-2 uppercase tracking-tight">{item.t}</h3>
                    <p class="text-zinc-600 text-sm font-medium leading-relaxed">{item.d}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    {/* CTA FINAL */}
    <section class="py-32 bg-white text-center">
      <div class="max-w-4xl mx-auto px-6 animate-on-scroll">
        <h2 class="text-4xl md:text-6xl font-black text-[#1a2a3a] mb-6 tracking-tighter">
          Â¿Hablamos de tu <span class="text-[#cd5a37]">prÃ³ximo proyecto</span>?
        </h2>
        <p class="text-xl text-zinc-500 mb-12 font-light">
          CuÃ©ntame quÃ© necesitas y te darÃ© un presupuesto sin compromiso
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center">
          <a 
            href="/contacto"
            class="bg-[#1a2a3a] text-white font-bold px-12 py-5 rounded-2xl hover:bg-[#cd5a37] transition-all shadow-2xl"
          >
            Pedir Presupuesto
          </a>
          <a 
            href="https://wa.me/34600123456"
            target="_blank"
            class="bg-[#25D366] text-white font-bold px-12 py-5 rounded-2xl hover:scale-105 transition-all flex items-center justify-center gap-3 shadow-xl"
          >
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
            WhatsApp Directo
          </a>
        </div>
      </div>
    </section>

  </main>

  <WhatIDontDo />
  <FAQ />
  <ZonasTrabajo />
  <Footer />
  <WhatsAppButton phoneNumber="34633680002" />
  <BottomNav currentPath="/servicios" />
</Layout>
